---
layout: single
title:  "(DB)테이블 정규화"
categories: Review
tags: Review, DB
---

DB 정규화
---
테이블을 만들고 여러가지 데이터들을 다룰 때 거의 필수라고 할 수 있는 테이블 정규화에 대해서 복습해보도록 하겠습니다.   

저는 개인적으로 테이블 정규화하는 방법을 처음 배웠을 때 어렵고 헷갈려 했었는데, 나름대로 공부하면서 얻은 팁으로 지금은 테이블 정규화 하는 것을 어려워하지 않게 됐습니다. 


#### 정규화
---

- 정규화란?
- 정규화를 하는 이유는?  
- 정규화 하는 방법
  
  

#### 정규화란?
---

> 정규화란 이상현상이 있는 릴레이션을 분해하여 이상현상을 없애는 과정이다. 이상현상이 존재하는 릴레이션을 분해하여 여러 개의 릴레이션을 생성하게 된다. 이를 구분하여 정규형이 높아질수록 이상현상은 줄어들게 된다.
>
> 즉, __<u>쉽게말하면 테이블 간에 중복된 데이터를 허용하지 않는다는 것이다.</u>__ 중복된 데이터를 허용하지 않음으로써 무결성(Integrity)를 유지할 수 있으며, DB의 저장 용량 역시 줄일 수 있다. 이러한 테이블을 분해하는 정규화 단계가 정의 되어 있다.
>    
> 참고문헌: 인성의 개발 공부 노트 [DataBase] 정규화(1NF, 2NF, 3NF, BCNF)


#### 정규화를 하는 이유는?
---

테이블 정규화를 하지 않으면 테이블간 데이터를 다룰 때 효율성이 떨어지는데 만약 정규화를 하지않은 상태에서 중복된 데이터를 수정해야 한다면 그 중복된 데이터가 들어있는 모든 테이블에 들어가서 데이터를 일일이 수정해야 합니다.   

그래서 정규화를 해서 중복된 값들을 하나로 합쳐서 데이터들을 관리하기 편하게 합니다.


#### 정규화 하는 방법?
---

- 제가 수업시간에 했던 예제로 정규화를 해보겠습니다.

![스크린샷 2024-07-09 120217](https://github.com/burgundy02/git-practice/assets/155533879/37dcb83a-b1dd-4134-bb41-1eb9fec2f21e)

우선 이런 테이블이 있습니다. 이 테이블에는 많은 데이터들이 들어가 있기 때문에 정규화를 하지 않으면 그 많은 데이터들을 다루기 힘들어 질 것입니다.


---
#### 정규화 하는 방법?
![스크린샷 2024-07-09 120217](https://github.com/user-attachments/assets/d75954d3-bedf-479a-ab9d-90e77970de9b)

그렇다면 이제 정규화를 할건데, 정규화를 할 때 어떤 칼럼을 정규화 해야할지 정해야 합니다.

칼럼에 따라서 정규화를 해야하는 칼럼도 있지만 정규화를 하면 안되는 칼럼도 존재하기 때문에 정규화를 하기에 앞서 이 과정도 중요하다고 볼 수 있습니다.

##### 1-1 정규화 비대상
---
![스크린샷 2024-07-15 170957](https://github.com/user-attachments/assets/6399e089-f6e5-4eee-8025-3869fcb98508)

먼저 정규화를 하면 안되는 비대상 칼럼입니다.   

주황색 표시한 칼럼들이 정규화를 하면 안되는 칼럼인데   
테이블에서 칼럼에 중복된 값들이 들어 있다고 무조건 다 정규화를 하면 안됩니다.    

정규화는 테이블의 데이터를 효율적으로 관리하기 위해서 하는 건데
무작정 중복된 데이터들을 다 정규화하게 되면 오히려 관리하기 힘들어집니다.


###### 칼럼별 정규화 하면 안되는 이유

- 등록번호   
    테이블 정규화를 하는 이유는 중복된 데이터들을 관리하기 위해서인데 등록번호는 중복된 값이 존재하지 않으므로 정규화하지 않습니다.

- 제목   
    제목은 확실히 중복된 값이 칼럼에 존재할 수 있습니다.    
    하지만 제목이 중복 됐다고 같은 값은 아닙니다. 즉, 제목은 같지만 완전히 다른 dvd인데 정규화를 해버리면 다른 dvd가 같은 dvd로 되어버려서 정규화하면 안됩니다.

- 발행년   
    일단 발행년은 정규화하기에는 너무 광범위합니다.   
    그리고 만약 발행년을 정규화했고 정규화한 것들 중  2003년에 발행된 dvd 중 하나가 사실 2002에 발행됐어야 했는데 표기 실수를 해서 수정을 해야한다고 가정한다면 정규화를 했기 때문에 수정할 dvd 하나만 수정하고 싶어도 2003년에 발행된 모든 dvd까지 다 수정되는 불편한 상황이 생깁니다.  

- 데이터기준일자   
      발행년과 동일하게 너무 광범위하고, 데이터를 편리하게 관리하기 위해서 정규화를 하는건데 오히려 관리하기가 불편해집니다.
     

##### 1-2 정규화 대상
---
![스크린샷 2024-07-15 174456](https://github.com/user-attachments/assets/c0677690-2fc6-467e-afe0-f837ff90b0b1)

그렇다면 어떤 칼럼이 정규화 대상 칼럼인지 보겠습니다.   

초록색 표시한 칼럼이 정규화 대상 칼럼입니다.   
정규화 대상 칼럼은 일단 쉽게 생각해서 같은 이름의 다른 값이 없다고 치는 칼럼입니다. 그래서 한 칼럼에 고유의 값이 모여져 있는 것을 정규화한다고 생각하면 쉽습니다.




  








